<app-user-header></app-user-header>

<div class="container">
  <h2>{{ tipoSeleccionado === 'Ganado' ? 'Ganado Disponible' : 'Fincas Disponibles' }}</h2>
  <p class="descripcion">Explore nuestra selección de ganado {{ tipoSeleccionado.toLowerCase() }} de alta calidad</p>

  <!-- Filtros -->
  <div class="filtros-barra">
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Buscar por raza, ubicación...</mat-label>
      <input matInput [(ngModel)]="filtroBusqueda" (input)="aplicarFiltros()" />
    </mat-form-field>

    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="cambiarTipo('Ganado')">Ganado</button>
      <button mat-menu-item (click)="cambiarTipo('Ganado')">Brahman</button>
      <button mat-menu-item (click)="cambiarTipo('Ganado')">Cebu</button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="menu">
      <mat-icon>filter_list</mat-icon> Filtros
    </button>
  </div>

  <!-- Tarjetas -->
  <div class="grid-publicaciones">
    <mat-card *ngFor="let pub of publicacionesFiltradas" class="tarjeta">
      <img mat-card-image *ngIf="pub.imagenes?.[0]" [src]="pub.imagenes[0]" />
      <mat-card-content>
        <h3>{{ pub.descripcion }}</h3>
        <p>{{ pub.detalle }}</p>
        <strong class="precio">${{ pub.precio }}/unidad</strong>
        <p class="ubicacion">{{ pub.ubicacion }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary">Ver Detalles</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<app-user-footer></app-user-footer>
